<template>
  <div id="app">
    <nav class="navbar navbar-expand navbar-dark bg-dark">
      <a href="/" class="navbar-brand">
        <svg viewBox="239.713 335.976 546.471 106.16" xmlns="http://www.w3.org/2000/svg">
          <g id="logo-group">
            <g id="title" style="font-style:oblique;font-weight:700;font-size:72px;line-height:1;font-family:'Uni Neue';font-variant-ligatures:none;text-align:center;text-anchor:middle" aria-label="taskLess">
              <path id="path13248" style="font-style: oblique; font-weight: 700; font-size: 72px; line-height: 1; font-family: &quot;Uni Neue&quot;; font-variant-ligatures: none; text-align: center; text-anchor: middle; fill: rgb(201, 55, 110);" d="m 396.35506,92.568 c 0.792,0 1.224,-0.36 1.368,-1.152 l 1.152,-6.624 c 0.144,-0.792 -0.288,-1.368 -1.152,-1.368 h -5.76 l 0.432,-8.568 c 0.072,-0.792 -0.36,-1.296 -1.224,-1.296 h -7.056 c -0.792,0 -1.224,0.432 -1.368,1.152 l -5.4,30.888 c -1.872,10.512 3.24,15.336 11.232,15.336 1.224,0 2.592,-0.144 3.672,-0.36 0.72,-0.072 1.08,-0.504 1.224,-1.224 l 1.152,-6.696 c 0.216,-0.936 -0.288,-1.296 -1.152,-1.224 -0.72,0 -1.368,0 -1.944,0 -2.952,0 -4.104,-1.728 -3.528,-4.968 l 2.448,-13.896 z" transform="translate(0 248.99924783652745) translate(251.99999999999983 100.69487341805005) scale(1.6206480888805062) translate(-376.96022 -73.56)"/>
              <path id="path13250" style="font-style: oblique; font-weight: 700; font-size: 72px; line-height: 1; font-family: &quot;Uni Neue&quot;; font-variant-ligatures: none; text-align: center; text-anchor: middle; fill: rgb(201, 55, 110);" d="m 427.39606,118.416 c 0.648,-0.216 0.936,-0.72 1.08,-1.368 l 3.24,-18.216 c 1.944,-10.8 -3.096,-17.28 -12.888,-17.28 -5.832,0 -11.232,1.296 -14.688,3.384 -0.432,0.288 -0.432,0.792 -0.216,1.44 l 2.232,5.904 c 0.288,0.792 0.864,0.936 1.656,0.576 2.16,-1.008 5.4,-1.656 8.568,-1.656 4.536,0 5.544,1.944 4.896,5.472 l -0.144,1.152 c -1.8,-0.36 -3.96,-0.576 -6.12,-0.576 -9.216,0 -15.12,3.096 -16.344,10.08 -1.44,7.848 3.672,13.608 13.752,13.608 5.544,0 10.872,-1.08 14.976,-2.52 z m -18,-10.512 c 0.36,-2.16 2.232,-3.312 5.76,-3.312 1.584,0 3.24,0.216 4.608,0.504 l -1.008,6.264 c -1.296,0.288 -3.312,0.576 -4.968,0.576 -3.168,0 -4.896,-1.296 -4.392,-4.032 z" transform="translate(0 248.99924783652745) translate(298.13714460811934 113.64709294438306) scale(1.6206480888805062) translate(-398.42855 -81.552)"/>
              <path id="path13252" style="font-style: oblique; font-weight: 700; font-size: 72px; line-height: 1; font-family: &quot;Uni Neue&quot;; font-variant-ligatures: none; text-align: center; text-anchor: middle; fill: rgb(201, 55, 110);" d="m 466.04994,109.776 c 1.512,-8.424 -5.4,-11.88 -10.944,-13.104 -3.456,-0.792 -5.76,-1.44 -5.328,-3.6 0.288,-1.8 1.944,-2.376 4.608,-2.376 3.024,0 5.76,0.648 7.992,1.944 0.72,0.36 1.296,0.288 1.728,-0.36 l 4.248,-5.688 c 0.504,-0.648 0.432,-1.296 -0.288,-1.728 -3.888,-2.232 -7.704,-3.312 -12.672,-3.312 -8.712,0 -14.76,3.096 -16.272,10.368 -1.584,7.776 4.032,12.024 11.088,13.464 2.88,0.648 5.4,1.224 4.896,3.456 -0.36,1.656 -2.088,2.736 -5.544,2.736 -3.384,0 -6.552,-1.008 -9.36,-3.096 -0.648,-0.432 -1.224,-0.36 -1.728,0.288 l -4.104,5.616 c -0.432,0.576 -0.432,1.224 0.216,1.728 3.96,3.24 8.64,4.824 14.616,4.824 9,0 15.408,-3.528 16.848,-11.16 z" transform="translate(0 248.99924783652745) translate(367.24208151889167 113.64709294438306) scale(1.6206480888805062) translate(-434.06886 -81.552)"/>
              <path id="path13254" style="font-style: oblique; font-weight: 700; font-size: 72px; line-height: 1; font-family: &quot;Uni Neue&quot;; font-variant-ligatures: none; text-align: center; text-anchor: middle; fill: rgb(201, 55, 110);" d="m 497.04031,82.56 c -0.648,0 -1.152,0.144 -1.512,0.648 l -10.224,11.16 4.32,-24.48 c 0.144,-0.792 -0.288,-1.368 -1.152,-1.368 h -8.352 c -0.72,0 -1.152,0.432 -1.296,1.152 l -8.712,48.96 c -0.072,0.792 0.36,1.368 1.152,1.368 h 8.352 c 0.72,0 1.224,-0.432 1.296,-1.152 l 1.728,-9.576 3.168,-3.024 5.4,12.744 c 0.216,0.72 0.72,1.008 1.44,1.008 h 9.144 c 0.936,0 1.296,-0.576 0.936,-1.44 l -9.288,-20.016 14.112,-14.472 c 0.72,-0.792 0.432,-1.512 -0.648,-1.512 z" transform="translate(0 248.99924783652745) translate(436.9877740645647 92.52680705009227) scale(1.6206480888805062) translate(-470.10454 -68.52)"/>
              <path id="path13256" style="font-style: oblique; font-weight: 700; font-size: 72px; line-height: 1; font-family: &quot;Uni Neue&quot;; font-variant-ligatures: none; text-align: center; text-anchor: middle; fill: rgb(222, 216, 217);" d="m 527.77419,69.888 c 0.072,-0.792 -0.288,-1.368 -1.152,-1.368 h -8.928 c -0.72,0 -1.224,0.432 -1.296,1.152 l -8.64,48.96 c -0.144,0.792 0.288,1.368 1.08,1.368 h 28.656 c 0.792,0 1.224,-0.432 1.368,-1.152 l 1.368,-7.92 c 0.144,-0.792 -0.288,-1.368 -1.152,-1.368 h -18.288 z" transform="translate(0 248.99924783652745) translate(509.3111560150449 92.52680705009227) scale(1.6206480888805062) translate(-507.73075 -68.52)"/>
              <path id="path13258" style="font-style: oblique; font-weight: 700; font-size: 72px; line-height: 1; font-family: &quot;Uni Neue&quot;; font-variant-ligatures: none; text-align: center; text-anchor: middle; fill: rgb(222, 216, 217);" d="m 546.47394,95.376 -1.872,10.44 c -1.656,9.36 4.896,15.12 14.328,15.12 6.264,0 11.16,-1.728 15.048,-4.392 0.648,-0.36 0.72,-1.008 0.432,-1.728 l -2.952,-5.544 c -0.36,-0.792 -0.936,-0.864 -1.656,-0.36 -2.88,1.728 -6.192,2.88 -9.36,2.88 -3.96,0 -5.688,-1.872 -4.968,-5.688 l 0.216,-1.008 h 20.016 c 0.72,0 1.152,-0.36 1.296,-1.08 l 1.224,-6.984 c 1.944,-10.584 -4.608,-15.48 -13.824,-15.48 -8.712,0 -16.2,4.392 -17.928,13.824 z m 21.024,2.52 h -10.512 l 0.36,-1.944 c 0.648,-3.384 3.024,-5.256 6.12,-5.256 3.672,0 4.896,2.52 4.392,5.4 z" transform="translate(0 248.99924783652745) translate(579.9954793143548 113.64709294438306) scale(1.6206480888805062) translate(-544.3456 -81.552)"/>
              <path id="path13260" style="font-style: oblique; font-weight: 700; font-size: 72px; line-height: 1; font-family: &quot;Uni Neue&quot;; font-variant-ligatures: none; text-align: center; text-anchor: middle; fill: rgb(222, 216, 217);" d="m 611.45619,109.776 c 1.512,-8.424 -5.4,-11.88 -10.944,-13.104 -3.456,-0.792 -5.76,-1.44 -5.328,-3.6 0.288,-1.8 1.944,-2.376 4.608,-2.376 3.024,0 5.76,0.648 7.992,1.944 0.72,0.36 1.296,0.288 1.728,-0.36 l 4.248,-5.688 c 0.504,-0.648 0.432,-1.296 -0.288,-1.728 -3.888,-2.232 -7.704,-3.312 -12.672,-3.312 -8.712,0 -14.76,3.096 -16.272,10.368 -1.584,7.776 4.032,12.024 11.088,13.464 2.88,0.648 5.4,1.224 4.896,3.456 -0.36,1.656 -2.088,2.736 -5.544,2.736 -3.384,0 -6.552,-1.008 -9.36,-3.096 -0.648,-0.432 -1.224,-0.36 -1.728,0.288 l -4.104,5.616 c -0.432,0.576 -0.432,1.224 0.216,1.728 3.96,3.24 8.64,4.824 14.616,4.824 9,0 15.408,-3.528 16.848,-11.16 z" transform="translate(0 248.99924783652745) translate(648.2725891813269 113.64709294438306) scale(1.6206480888805062) translate(-579.47511 -81.552)"/>
              <path id="path13262" style="font-style: oblique; font-weight: 700; font-size: 72px; line-height: 1; font-family: &quot;Uni Neue&quot;; font-variant-ligatures: none; text-align: center; text-anchor: middle; fill: rgb(222, 216, 217);" d="m 646.19056,109.776 c 1.512,-8.424 -5.4,-11.88 -10.944,-13.104 -3.456,-0.792 -5.76,-1.44 -5.328,-3.6 0.288,-1.8 1.944,-2.376 4.608,-2.376 3.024,0 5.76,0.648 7.992,1.944 0.72,0.36 1.296,0.288 1.728,-0.36 l 4.248,-5.688 c 0.504,-0.648 0.432,-1.296 -0.288,-1.728 -3.888,-2.232 -7.704,-3.312 -12.672,-3.312 -8.712,0 -14.76,3.096 -16.272,10.368 -1.584,7.776 4.032,12.024 11.088,13.464 2.88,0.648 5.4,1.224 4.896,3.456 -0.36,1.656 -2.088,2.736 -5.544,2.736 -3.384,0 -6.552,-1.008 -9.36,-3.096 -0.648,-0.432 -1.224,-0.36 -1.728,0.288 l -4.104,5.616 c -0.432,0.576 -0.432,1.224 0.216,1.728 3.96,3.24 8.64,4.824 14.616,4.824 9,0 15.408,-3.528 16.848,-11.16 z" transform="translate(0 248.99924783652745) translate(715.9093161624588 113.64709294438306) scale(1.6206480888805062) translate(-614.20948 -81.552)"/>
            </g>
            <g id="tagline" style="font-style:oblique;font-weight:400;font-size:32px;line-height:1;font-family:Lato;font-variant-ligatures:none;text-align:center;text-anchor:middle"/>
          </g>
        </svg>
      </a>
      <div class="navbar-nav mr-auto">
        <div class="dropdown show" v-if="user.email == 'jxc154930@gmail.com'">
          <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Misc
          </a>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
            <div class="dropdown-item">
              <router-link to="/blog"
                >Blog</router-link
              >
            </div>
            <div class="dropdown-item">
              <router-link to="/Maple"
                >Maple</router-link
              >
            </div>
            <div class="dropdown-item">
              <router-link to="/Sundae"
                >Sundae</router-link
              >
            </div>
            <div class="dropdown-item">
              <router-link to="/bms"
                >BMS</router-link
              >
            </div>
          </div>
        </div>
        <div class="dropdown-item">
          <router-link to="/board"
            >Board</router-link
          >
        </div>
        <!-- <a href="/quote" class="nav-link">Quote</a>
        <a href="/py" class="nav-link">python</a> -->
      </div>
      <div>
        <div v-if="user.name && user.email">{{ user.name }} | {{ user.email }} | <a @click="logUserOut">Logout</a></div>
        <div v-else>
          <router-link to="/Login"
            >Login</router-link
          >
          <router-link to="/Register"
            >Register</router-link
          >
        </div>
      </div>
    </nav>

    <div class="container mt-3 mb-3">
      <router-view />
    </div>

    <footer class="pt-4 my-md-5 pt-md-5 border-top container">
        <div class="row">
          <div class="col-12 col-md">
            <small class="d-block mb-3 text-muted">© 2020 JC Notes | Dev</small>
            NEED TO UPDATE ROUTER
          </div>
          <div class="col-6 col-md">
            <h5>Features</h5>
            <ul class="list-unstyled text-small">
              <li><a class="text-muted" href="#">Random feature</a></li>
              <li><a class="text-muted" href="#">Team feature</a></li>
              <li><a class="text-muted" href="#">Stuff for developers</a></li>
            </ul>
          </div>
          <div class="col-6 col-md">
            <h5>Resources</h5>
            <ul class="list-unstyled text-small">
              <li><a class="text-muted" href="#">Site Map</a></li>
              <li><a class="text-muted" href="#">About Us</a></li>
              <li><a class="text-muted" href="#">Privacy Policy</a></li>
            </ul>
          </div>
        </div>
      </footer>
  </div>
</template>

<script>
export default {
  name: 'app',
  data(){
    return{
      user: {}
    }
  },
  watch: {
    $route (to, from){
      if(from.path.toLowerCase() == "/login" || from.path.toLowerCase() == "/register") {
        this.getUserDetails();
      }
    }
  },
  methods: {
    getUserDetails() {
      let token = localStorage.getItem("jwt");
      if(token) {
        let decoded = this.$VueJwtDecode.decode(token);
        this.user = decoded;
      }
    },
    logUserOut() {
      localStorage.removeItem("jwt");
      this.$router.go()
    }
  },
  created(){
    this.getUserDetails();
  }
}
</script>
<style lang="scss">
body {
  // background-image: url('~@/assets/img/site-background.jpg');
  background-color: #121212;
  background-attachment: fixed;
  background-size: cover;
}
.navbar-brand svg {
  width: 160px;
  height: 60px;
}
.container {
  padding: 4px;
  border-radius: 5px;
  background-color: #484848;
  color: #ededed;
}
#app {
  overflow: hidden;
  a {
    &:hover {
      cursor: pointer;
    }
  }
}
</style>